<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Curry House â€” Menu</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --ch-primary: #f97316;
      --ch-bg: #fff7ed;
    }
    body { background: var(--ch-bg) url('images/texture-light.png') repeat; }
    .title-gradient { color: var(--ch-primary); }
    .card { background: white; border-radius: 1rem; box-shadow: 0 10px 20px rgba(0,0,0,.05); }
    .price { color: var(--ch-primary); font-weight: 700; }
    .tag { background: rgba(249,115,22,.08); color: var(--ch-primary); }
  </style>
</head>

<body class="text-[15px] text-gray-800">
  <!-- Header -->
  <header class="max-w-6xl mx-auto px-4 py-8">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
      <div>
        <h1 class="text-3xl md:text-4xl font-semibold title-gradient tracking-tight">Curry House â€” Montreuil</h1>
        <p class="text-gray-600">Menu maison Â· Livraison gratuite sur Montreuil</p>
      </div>
      <div class="text-right">
        <a href="tel:0983036692" class="block text-orange-600 font-semibold">ðŸ“ž 09 83 03 66 92</a>
        <a href="https://wa.me/33763424110" target="_blank" class="block text-green-600 font-semibold">ðŸ’¬ WhatsApp : 07 63 42 41 10</a>
      </div>
    </div>
  </header>

  <!-- Bandeau livraison -->
  <div class="max-w-6xl mx-auto px-4 mb-6">
    <div class="p-3 rounded-xl border border-orange-200 bg-orange-50 text-orange-800 flex flex-col md:flex-row md:items-center md:justify-between gap-2">
      <p class="font-medium">ðŸšš Livraison <strong>gratuite sur Montreuil</strong></p>
      <p>Commandes :
        <a href="tel:0983036692" class="underline font-semibold">09 83 03 66 92</a> Â·
        <a href="https://wa.me/33763424110" target="_blank" class="underline font-semibold text-green-700">WhatsApp</a>
      </p>
    </div>
  </div>

  <!-- Container -->
  <main id="menu" class="max-w-6xl mx-auto px-4 pb-20"></main>

  <!-- Footer -->
  <footer class="border-t border-orange-100/60 bg-white/60 backdrop-blur-sm mt-10">
    <div class="max-w-6xl mx-auto px-4 py-8 text-sm text-gray-600">
      <p><strong>Adresse :</strong> 72 rue Beaumarchais, 93100 Montreuil</p>
      <p><strong>TÃ©l :</strong> 
        <a class="text-orange-600" href="tel:0983036692">09 83 03 66 92</a> / 
        <a class="text-orange-600" href="tel:0763424110">07 63 42 41 10</a>
      </p>
      <p><a href="https://wa.me/33763424110" target="_blank" class="text-green-600 font-medium">ðŸ’¬ Contactez-nous sur WhatsApp</a></p>
    </div>
  </footer>

  <!-- Images par catÃ©gorie -->
  <script>
    const CATEGORY_IMAGES = {
      "EntrÃ©es": "images/entrees.jpg",
      "Plats Tandoori": "images/tandoori.jpg",
      "Recommandation du chef": "images/chef.jpg",
      "Plats principaux": "images/plats-principaux.jpg",
      "Dopiaza": "images/dopiaza.jpg",
      "Dansak (lentilles, aigre-doux)": "images/dansak.jpg",
      "Pathia (aigre-doux, pimentÃ©)": "images/pathia.jpg",
      "Ã‰pinards (saag)": "images/epinards.jpg",
      "Jalfrezi (poivrons, piments verts)": "images/jalfrezi.jpg",
      "Plats Korai": "images/korai.jpg",
      "Plats Vindaloo (trÃ¨s pimentÃ©)": "images/vindaloo.jpg",
      "Plats Biryani (servi avec sauce curry)": "images/biryani.jpg",
      "Plats Balti (tomates, coriandre, Ã©pices)": "images/balti.jpg",
      "Pains maison": "images/naans.jpg",
      "Riz basmati & accompagnements": "images/riz.jpg",
      "Chicken madras (un peu pimentÃ©) â€” base sauce madras": "images/madras.jpg",
      "Boissons chaudes": "images/boissons.jpg"
    };
  </script>

  <!-- DonnÃ©es (copie ton tableau DATA ici) -->
  <script src="menu-data.js"></script>

  <!-- Rendu -->
  <script>
    const menuEl = document.getElementById("menu");
    const placeholder = "https://images.unsplash.com/photo-1604908176997-431f9a0c9b3f?q=80&w=1200&auto=format&fit=crop";

    const formatPrice = p => `${p.toFixed(2).replace(".", ",")} â‚¬`;

    function sectionHeader(title, note) {
      return `
      <div class="flex items-end justify-between mb-3">
        <h2 class="text-2xl md:text-3xl font-semibold title-gradient">${title}</h2>
        ${note ? `<span class="text-xs md:text-sm tag px-3 py-1 rounded-full">${note}</span>` : ""}
      </div>`;
    }

    function catImage(title) {
      const src = CATEGORY_IMAGES[title] || placeholder;
      return `<div class="overflow-hidden rounded-xl border border-orange-100 mb-4">
                <img loading="lazy" src="${src}" alt="${title}" class="w-full h-56 md:h-72 object-cover" onerror="this.src='${placeholder}'">
              </div>`;
    }

    function itemRow(item) {
      return `
        <div class="flex items-start justify-between py-2 border-b border-orange-50">
          <div>
            <p class="font-medium">${item.name}</p>
            ${item.desc ? `<p class="text-sm text-gray-600">${item.desc}</p>` : ""}
          </div>
          <div class="price ml-4 whitespace-nowrap">${formatPrice(item.price)}</div>
        </div>`;
    }

    function render(data) {
      menuEl.innerHTML = "";
      data.forEach(cat => {
        let html = sectionHeader(cat.category, cat.note);
        html += catImage(cat.category);

        if (cat.subcategories) {
          cat.subcategories.forEach(sc => {
            html += `<h3 class="mt-3 mb-2 text-lg font-semibold text-gray-800">${sc.name}</h3>`;
            html += `<div class="card p-4 divide-y divide-orange-50">` + sc.items.map(itemRow).join("") + `</div>`;
          });
        } else {
          html += `<div class="card p-4 divide-y divide-orange-50">` + cat.items.map(itemRow).join("") + `</div>`;
        }

        const wrap = document.createElement("section");
        wrap.className = "mb-12";
        wrap.innerHTML = html;
        menuEl.appendChild(wrap);
      });
    }

    render(DATA);
  </script>

  <!-- Boutons mobile -->
  <div class="fixed bottom-3 inset-x-0 flex justify-center gap-2 md:hidden z-40 px-4">
    <a href="tel:0983036692" class="flex-1 text-center px-4 py-3 rounded-full bg-orange-600 text-white font-semibold shadow-lg">ðŸ“ž Appeler</a>
    <a href="https://wa.me/33763424110" target="_blank" class="flex-1 text-center px-4 py-3 rounded-full bg-green-600 text-white font-semibold shadow-lg">ðŸ’¬ WhatsApp</a>
  </div>
</body>
</html>
